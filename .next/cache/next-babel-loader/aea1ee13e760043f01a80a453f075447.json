{"ast":null,"code":"var _jsxFileName = \"/Users/iwsr/myCode/works/myself/blog/blog-front/src/pages/index/components/articles/components/article/article.tsx\";\nimport React from 'react';\nimport './style/article.less';\n\nclass Article extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dom = React.createRef();\n    this.state = {\n      isAnimationEnd: false,\n      isNeedAnimation: false\n    };\n    this.animationendHandle = this.animationendHandle.bind(this);\n  }\n\n  componentDidMount() {\n    const ctx = this;\n\n    if (ctx.dom.current) {\n      ctx.dom.current.addEventListener('animationend', ctx.animationendHandle);\n    }\n\n    this.setState({\n      isNeedAnimation: true\n    });\n  } // 方法声明\n\n\n  animationendHandle() {\n    const ctx = this;\n\n    if (ctx.dom && ctx.dom.current) {\n      ctx.dom.current.removeEventListener('animationend', ctx.animationendHandle);\n    }\n\n    this.setState({\n      isAnimationEnd: true,\n      isNeedAnimation: false\n    });\n  }\n\n  bigNumberHandle(number, limitLength) {\n    // TODO: limitLength: 限制显示位数，需要实现替换数字为k w 等缩写\n    let str = number.toString();\n\n    if (str.length > 3) {\n      str = str.replace(/\\B(?=(\\d{3})+\\b)/g, ',');\n    }\n\n    return str;\n  }\n\n  render() {\n    const ctx = this;\n    const {\n      index,\n      item\n    } = ctx.props;\n    const {\n      isNeedAnimation,\n      isAnimationEnd\n    } = ctx.state;\n    const isOdd = (index + 1) % 2 === 1;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `article-item ${isNeedAnimation ? 'article-item_animation' : ''} ${isAnimationEnd ? 'article-item_animation-end' : ''}`,\n      key: index,\n      ref: ctx.dom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `item__info ${isOdd ? 'order_2' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, item.date), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont icon-kanbaozhi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, ctx.bigNumberHandle(item.viewNum), \" \\u70ED\\u5EA6\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont icon-tubiao--copy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, ctx.bigNumberHandle(item.commentNum), \" \\u6761\\u8BC4\\u8BBA\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont icon-wenjian\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, item.item))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"abstract\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, item.abstract)), /*#__PURE__*/React.createElement(\"div\", {\n      className: `item__pic ${isOdd ? '' : 'order_2'}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pic\",\n      style: {\n        backgroundImage: `url(${item.pic})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["/Users/iwsr/myCode/works/myself/blog/blog-front/src/pages/index/components/articles/components/article/article.tsx"],"names":["React","Article","Component","constructor","props","dom","createRef","state","isAnimationEnd","isNeedAnimation","animationendHandle","bind","componentDidMount","ctx","current","addEventListener","setState","removeEventListener","bigNumberHandle","number","limitLength","str","toString","length","replace","render","index","item","isOdd","date","title","viewNum","commentNum","abstract","backgroundImage","pic"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport './style/article.less';\n\nclass Article extends React.Component <IProp, IState> {\n\n  private dom: React.RefObject<HTMLDivElement> = React.createRef();\n\n  constructor(props: IProp) {\n    super(props);\n    this.state = {\n      isAnimationEnd: false,\n      isNeedAnimation: false\n    };\n    this.animationendHandle = this.animationendHandle.bind(this)\n  }\n\n  componentDidMount() {\n    const ctx = this;\n    if (ctx.dom.current) {\n      ctx.dom.current.addEventListener('animationend', ctx.animationendHandle);\n    }\n    this.setState({\n      isNeedAnimation: true\n    });\n  }\n\n  // 方法声明\n  animationendHandle() {\n    const ctx = this;\n    if (ctx.dom &&ctx.dom.current) {\n      ctx.dom.current.removeEventListener('animationend', ctx.animationendHandle);\n    }\n    this.setState({\n      isAnimationEnd: true,\n      isNeedAnimation: false\n    });\n  }\n\n  bigNumberHandle(number: number, limitLength?: number) {\n    // TODO: limitLength: 限制显示位数，需要实现替换数字为k w 等缩写\n    let str = number.toString();\n    if (str.length > 3) {\n      str = str.replace(/\\B(?=(\\d{3})+\\b)/g, ',');\n    }\n    return str;\n  }\n\n  render() {\n    const ctx = this;\n    const {index, item} = ctx.props;\n    const {isNeedAnimation, isAnimationEnd} = ctx.state;\n    const isOdd = (index + 1) % 2 === 1;\n\n    return (\n      <div className={`article-item ${isNeedAnimation ? 'article-item_animation' : ''} ${ isAnimationEnd ? 'article-item_animation-end' : ''}`}\n        key={index}\n        ref={ctx.dom}>\n        <div className={`item__info ${isOdd ? 'order_2' : ''}`}>\n          <div className='date'>{item.date}</div>\n          <div className='title'>{item.title}</div>\n          <div className='detail'>\n            <span className='icon'>\n              <i className=\"iconfont icon-kanbaozhi\"></i>\n              <p>{ctx.bigNumberHandle(item.viewNum)} 热度</p>\n            </span>\n            <span className='icon'>\n              <i className=\"iconfont icon-tubiao--copy\"></i>\n              <p>{ctx.bigNumberHandle(item.commentNum)} 条评论</p>\n            </span>\n            <span className='icon'>\n              <i className=\"iconfont icon-wenjian\"></i>\n              <p>{item.item}</p>\n            </span>\n          </div>\n          <div className='abstract'>{item.abstract}</div>\n        </div>\n        <div className={`item__pic ${isOdd ? '' : 'order_2'}`}>\n          <div className='pic' style={{\n            backgroundImage: `url(${item.pic})` \n          }}></div>\n        </div>\n      </div>\n    )\n  }\n}\n\ninterface IProp {\n  index: number,\n  item: showArticles,\n  // observer: IntersectionObserver | null\n}\n\ninterface IState {\n  isAnimationEnd: boolean,\n  isNeedAnimation: boolean\n}\n\ninterface articles {\n  id: number,\n  title: string,\n  date: string,\n  abstract: string,\n  viewNum: number,\n  commentNum: number,\n  item: string,\n  pic: string\n}\n\ninterface showArticles extends articles {\n  isNew?: boolean\n}\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}